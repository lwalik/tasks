<div class="list-group border-bottom w-100 py-4">
  <div
    class="border-0 d-flex justify-content-between"
    *ngFor="let task of tasks$ | async"
  >
    <div class="d-flex align-items-center" *ngIf="task.isDone">
      <input
        class="form-check-input me-1 rounded-circle bg-success"
        type="checkbox"
        value=""
        (change)="onCheckboxChanged(task)"
        checked
      />

      <p class="text-decoration-line-through m-0">
        {{ task.description }}
      </p>
    </div>

    <div class="d-flex align-items-center" *ngIf="!task.isDone">
      <input
        class="form-check-input me-1 rounded-circle"
        type="checkbox"
        value=""
        (change)="onCheckboxChanged(task)"
      />
      <p class="m-0">{{ task.description }}</p>
    </div>

    <div class="btn-group p-1 m-0" dropdown>
      <span
        id="button-split"
        type="button"
        dropdownToggle
        class="fs-3"
        aria-controls="dropdown-split"
        >...
        <!-- <span class="caret"></span>
        <span class="sr-only visually-hidden">Split button!</span> -->
      </span>

      <ul
        id="dropdown-split"
        *dropdownMenu
        class="dropdown-menu"
        role="menu"
        aria-labelledby="button-split"
      >
        <li role="menuitem">
          <button
            type="submit"
            class="dropdown-item"
            (click)="openModal(template)"
          >
            Delete task
          </button>
        </li>
        <li role="menuitem">
          <button
            type="submit"
            class="dropdown-item"
            (click)="openModal(template)"
          >
            Delete task
          </button>
        </li>
        <li role="menuitem">
          <button
            type="submit"
            class="dropdown-item"
            (click)="openModal(template)"
          >
            Delete task
          </button>
        </li>
      </ul>
    </div>

    <ng-template #template>
      <div class="modal-header">
        <h4 class="modal-title pull-left">Delete Task</h4>
        <button
          type="button"
          class="btn-close close pull-right"
          aria-label="Close"
          (click)="modalRef?.hide()"
        >
          <span aria-hidden="true" class="visually-hidden">&times;</span>
        </button>
      </div>
      <div class="modal-body">Are you sure you want to delete this task?</div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-outline-secondary"
          (click)="modalRef?.hide()"
        >
          Cancel
        </button>
        <button
          type="button"
          class="btn btn-danger"
          (click)="onDeleteTaskSubmited(task)"
        >
          Delete task
        </button>
      </div>
    </ng-template>
  </div>
</div>

<button
  type="button"
  class="btn bg-indigo-400 text-light mt-4"
  routerLink="/createTask"
>
  Add task
</button>
